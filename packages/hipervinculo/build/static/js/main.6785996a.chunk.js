(this.webpackJsonphipervinculo=this.webpackJsonphipervinculo||[]).push([[0],{59:function(e,t,n){e.exports=n.p+"static/media/grass.a3785d79.jpg"},61:function(e,t,n){e.exports=n.p+"static/media/dirt.692e992e.jpg"},70:function(e,t,n){e.exports=n(88)},74:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n(1),c=n.n(a),o=n(30),u=n.n(o),i=(n(74),n(24)),l=n(56),s=n(89),m=n(11),b=n(0),f=n(59),p=n.n(f),d=function(e){var t=Object(s.f)((function(){return Object(m.a)({rotation:[-Math.PI/2,0,0]},e)})),n=Object(r.a)(t,1)[0],a=Object(i.c)(b.TextureLoader,p.a);return a.wrapS=a.wrapT=b.RepeatWrapping,a.repeat.set(240,240),c.a.createElement("mesh",{ref:n,receiveShadow:!0},c.a.createElement("planeBufferGeometry",{args:[1e3,1e3]}),c.a.createElement("meshStandardMaterial",{map:a,color:"green"}))},j=n(10),O={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump"},E=function(e){return O[e]},y=new b.Vector3,v=new b.Vector3,h=new b.Vector3,w=function(e){var t=Object(s.e)((function(){return Object(m.a)({mass:1,type:"Dynamic",position:[0,10,0]},e)})),n=Object(r.a)(t,2),o=n[0],u=n[1],l=function(){var e=Object(a.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1}),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(e){return c((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(j.a)({},E(e.code),!0))}))},t=function(e){return c((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(j.a)({},E(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),n}(),b=l.forward,f=l.backward,p=l.left,d=l.right,O=l.jump,w=Object(i.d)().camera,k=Object(a.useRef)([0,0,0]);return Object(a.useEffect)((function(){u.velocity.subscribe((function(e){return k.current=e}))}),[]),Object(i.b)((function(){w.position.copy(o.current.position),v.set(0,0,Number(f)-Number(b)),h.set(Number(p)-Number(d),0,0),y.subVectors(v,h).normalize().multiplyScalar(5).applyEuler(w.rotation),u.velocity.set(y.x,k.current[1],y.z),O&&Math.abs(k.current[1].toFixed(2))<.05&&u.velocity.set(k.current[0],10,k.current[2])})),c.a.createElement("mesh",{ref:o})},k=n(14),g=n(47),S=n(61),x=n.n(S),C=Object(g.a)((function(e){return{cubes:[],addCube:function(t,n,r){return e((function(e){return{cubes:[].concat(Object(k.a)(e.cubes),[[t,n,r]])}}))}}})),L=function(){return C((function(e){return e.cubes})).map((function(e,t){return c.a.createElement(M,{key:t,position:e})}))},M=function(e){var t=Object(s.c)((function(){return Object(m.a)({type:"Static"},e)})),n=Object(r.a)(t,1)[0],o=Object(a.useState)(null),u=Object(r.a)(o,2),l=u[0],f=u[1],p=C((function(e){return e.addCube})),d=Object(i.c)(b.TextureLoader,x.a),j=Object(a.useCallback)((function(e){return e.stopPropagation(),f(Math.floor(e.faceIndex/2))}),[]),O=Object(a.useCallback)((function(){return f(null)}),[]),E=Object(a.useCallback)((function(e){e.stopPropagation();var t=n.current.position,r=t.x,a=t.y,c=t.z,o=[[r+1,a,c],[r-1,a,c],[r,a+1,c],[r,a-1,c],[r,a,c+1],[r,a,c-1]];p.apply(void 0,Object(k.a)(o[Math.floor(e.faceIndex/2)]))}),[]);return c.a.createElement("mesh",{ref:n,receiveShadow:!0,castShadow:!0,onPointerMove:j,onPointerOut:O,onClick:E},Object(k.a)(Array(6)).map((function(e,t){return c.a.createElement("meshStandardMaterial",{attachArray:"material",map:d,key:t,color:l===t?"hotpink":"white"})})),c.a.createElement("boxBufferGeometry",null))};function N(){return c.a.createElement(i.a,{shadowMap:!0,gl:{alpha:!1},camera:{fov:35}},c.a.createElement(l.b,{sunPosition:[100,10,100]}),c.a.createElement("ambientLight",{intensity:.3}),c.a.createElement("pointLight",{castShadow:!0,intensity:.8,position:[100,100,100]}),c.a.createElement(s.a,{gravity:[0,-30,0]},c.a.createElement(d,null),c.a.createElement(w,null),c.a.createElement(M,{position:[0,.5,-10]}),c.a.createElement(L,null)),c.a.createElement(l.a,null))}function P(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],o=t[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(N,null),!n&&c.a.createElement("div",{className:"overlay"},c.a.createElement("div",null,"\u2190 Click the dot to start")),c.a.createElement("div",{className:"dot",style:{pointerEvents:n?"none":"all"},onClick:function(){return o(!0)}}))}u.a.render(c.a.createElement(P,null),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.6785996a.chunk.js.map